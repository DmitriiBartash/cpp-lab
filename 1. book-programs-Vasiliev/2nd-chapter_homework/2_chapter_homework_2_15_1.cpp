/*

Нужно написать функцию, которая для заданного целого положительного числа возвращает сумму его делителей.
То есть: нужно найти все такие числа d, что n % d == 0, и просуммировать их.

Пример:
Для n = 6 делители: 1, 2, 3, 6. Сумма = 12.
Для n = 10 делители: 1, 2, 5, 10. Сумма = 18.

*/

#include <iostream>
#include <cmath>
using namespace std;

long long sum_of_divisors(int n)
{
    long long sum = 0;
    int root = sqrt(n);

    for (int i = 1; i <= root; i++)
    {
        if (n % i == 0)
        {
            sum += i;
            if (i != n / i)
            {
                sum += n / i;
            }
        }
    }
    return sum;
}

int main()
{
    // Ускоряет ввод/вывод:
    // 1) отключаем синхронизацию с stdio (cin/cout быстрее, но нельзя мешать с scanf/printf)
    // ios::sync_with_stdio(false);
    // 2) отвязываем cin от cout (убираем лишний flush перед вводом)
    // cin.tie(nullptr);

    int n;
    cout << "Enter a number: ";
    cin >> n;

    cout << "The sum of divisors of " << n << " = " << sum_of_divisors(n) << "\n";
    return 0;
}

/**
 * Функция sum_of_divisors
 * -----------------------
 * Вычисляет сумму всех делителей числа n.
 *
 * Алгоритм:
 * 1. Идём по всем возможным делителям i от 1 до sqrt(n).
 * 2. Если i делит n без остатка (n % i == 0):
 *      - добавляем i к сумме;
 *      - находим "парный делитель" j = n / i:
 *          • так как n = i * j, если i делитель, то автоматически j тоже делитель;
 *          • добавляем j к сумме, если i != j.
 *    Таким образом, мы обрабатываем сразу два делителя за одну проверку.
 * 3. Если n — полный квадрат, то при i = sqrt(n) выполняется i == n / i, поэтому этот делитель учитывается только один раз.
 *
 * Почему работает:
 * - Делители всегда образуют пары (i, n/i).
 * - Один из элементов пары всегда ≤ sqrt(n), второй ≥ sqrt(n).
 * - Поэтому достаточно проверять делители только до sqrt(n),
 *   и находить вторую половину пары автоматически через n / i.
 *
 * Сложность: O(√n), что намного быстрее перебора всех чисел от 1 до n.
 *
 * Примеры:
 *  n = 6  → пары (1,6),(2,3)                          → сумма = 12
 *  n = 10 → пары (1,10),(2,5)                         → сумма = 18
 *  n = 36 → пары (1,36),(2,18),(3,12),(4,9),(6,6)     → сумма = 91
 *
 */